[gd_scene load_steps=23 format=3 uid="uid://cc6ehxxoauhyn"]

[ext_resource type="Texture2D" uid="uid://bic51a06275mf" path="res://textures/furniture/BackWalls.png" id="1_bij4o"]
[ext_resource type="Script" uid="uid://k1u0wn4216ss" path="res://scripts/player.gd" id="2_3555j"]
[ext_resource type="Texture2D" uid="uid://cj470h3nbgw5s" path="res://textures/Andry.png" id="3_nghjy"]
[ext_resource type="Script" uid="uid://bcelax33cvpsy" path="res://scripts/door.gd" id="4_hl306"]
[ext_resource type="Texture2D" uid="uid://q1l7xwf3o5nx" path="res://textures/furniture/Door_2.png" id="5_wnv1a"]
[ext_resource type="Script" uid="uid://b6y6n70dxg1af" path="res://scripts/bed.gd" id="6_srw7l"]
[ext_resource type="Texture2D" uid="uid://bfph65g52ypxj" path="res://textures/furniture/Bed.png" id="7_olvol"]
[ext_resource type="Texture2D" uid="uid://bbws6f8me4k3o" path="res://textures/furniture/Kitchen_garn.png" id="8_44pp7"]
[ext_resource type="Texture2D" uid="uid://w7hvavgwa6nq" path="res://textures/furniture/Deck.png" id="9_1ekfm"]
[ext_resource type="Texture2D" uid="uid://catvbroual51h" path="res://textures/furniture/TableNote.png" id="10_mjper"]
[ext_resource type="Script" uid="uid://c3no1nmmxh58f" path="res://scripts/key.gd" id="11_tudbb"]
[ext_resource type="Script" uid="uid://cqod2wo15l86s" path="res://scripts/game_director.gd" id="12_jxiql"]
[ext_resource type="Script" uid="uid://cu5ad7tdqmepr" path="res://scripts/frizzer.gd" id="13_3jwi8"]
[ext_resource type="Texture2D" uid="uid://dk25q3reeyq1p" path="res://textures/furniture/Frizzer.png" id="14_ugoxw"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vonw3"]
size = Vector2(6, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u52ul"]
size = Vector2(92, 3)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nr3cb"]
size = Vector2(260, 3)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oi3di"]
size = Vector2(3, 32)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fh42t"]
size = Vector2(12, 22)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lj6ne"]
size = Vector2(28, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_px6rj"]
size = Vector2(14, 6)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cr2eh"]
size = Vector2(10, 20)

[node name="Level" type="Node2D"]
position = Vector2(16, 0)

[node name="Darkness" type="ColorRect" parent="."]
visible = false
offset_left = -90.0
offset_top = -52.0
offset_right = 81.0
offset_bottom = 44.0
color = Color(0, 0, 0, 0.6862745)

[node name="WallBack_Bedroom" type="Sprite2D" parent="."]
z_index = -5
texture_repeat = 2
position = Vector2(-6, -5)
scale = Vector2(0.058593735, 0.058593754)
texture = ExtResource("1_bij4o")
region_enabled = true
region_rect = Rect2(0, 0, 1500, 600)

[node name="WallBack_Koridor" type="Sprite2D" parent="."]
z_index = -5
texture_repeat = 2
position = Vector2(417, -5)
scale = Vector2(0.058593735, 0.058593754)
texture = ExtResource("1_bij4o")
region_enabled = true
region_rect = Rect2(0, 0, 4400, 600)

[node name="Player" type="CharacterBody2D" parent="." groups=["player"]]
position = Vector2(-3, 0)
script = ExtResource("2_3555j")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(0, 1)
shape = SubResource("RectangleShape2D_vonw3")

[node name="Camera2D" type="Camera2D" parent="Player"]
offset = Vector2(0, -5)
zoom = Vector2(14, 14)
position_smoothing_enabled = true
position_smoothing_speed = 10.0

[node name="Sprite2D" type="Sprite2D" parent="Player"]
position = Vector2(0, 2)
scale = Vector2(0.026548672, 0.026548667)
texture = ExtResource("3_nghjy")

[node name="Floor" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
position = Vector2(-6, 12.5)
shape = SubResource("RectangleShape2D_u52ul")

[node name="Floor2" type="StaticBody2D" parent="."]
position = Vector2(396, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor2"]
position = Vector2(21, 12.5)
shape = SubResource("RectangleShape2D_nr3cb")

[node name="Floor3" type="StaticBody2D" parent="."]
position = Vector2(396, -35)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor3"]
position = Vector2(21, 12.5)
shape = SubResource("RectangleShape2D_nr3cb")

[node name="Roof" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Roof"]
position = Vector2(-6, -22.5)
shape = SubResource("RectangleShape2D_u52ul")

[node name="Wall_1" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Wall_1"]
position = Vector2(-50.5, -5)
shape = SubResource("RectangleShape2D_oi3di")

[node name="ColorRect" type="ColorRect" parent="Wall_1"]
offset_left = -52.0
offset_top = -21.0
offset_right = -49.0
offset_bottom = 11.0
metadata/_edit_use_anchors_ = true

[node name="Wall_2" type="StaticBody2D" parent="."]
position = Vector2(-73, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Wall_2"]
position = Vector2(111.5, -5)
shape = SubResource("RectangleShape2D_oi3di")

[node name="ColorRect" type="ColorRect" parent="Wall_2"]
offset_left = 110.0
offset_top = -21.0
offset_right = 113.0
offset_bottom = 11.0
metadata/_edit_use_anchors_ = true

[node name="Wall_3" type="StaticBody2D" parent="."]
position = Vector2(-26, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Wall_3"]
position = Vector2(314.5, -5)
shape = SubResource("RectangleShape2D_oi3di")

[node name="ColorRect" type="ColorRect" parent="Wall_3"]
offset_left = 313.0
offset_top = -21.0
offset_right = 316.0
offset_bottom = 11.0
metadata/_edit_use_anchors_ = true

[node name="Wall_4" type="StaticBody2D" parent="."]
position = Vector2(434, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Wall_4"]
position = Vector2(111.5, -5)
shape = SubResource("RectangleShape2D_oi3di")

[node name="ColorRect" type="ColorRect" parent="Wall_4"]
offset_left = 110.0
offset_top = -21.0
offset_right = 113.0
offset_bottom = 11.0
metadata/_edit_use_anchors_ = true

[node name="Door(In Bedroom)" type="Area2D" parent="."]
z_index = -2
position = Vector2(-41, 0)
script = ExtResource("4_hl306")
target_marker = NodePath("../Door(To Bedroom)/Marker2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Door(In Bedroom)"]
position = Vector2(70, 0)
shape = SubResource("RectangleShape2D_fh42t")

[node name="Marker2D" type="Marker2D" parent="Door(In Bedroom)"]
position = Vector2(70, 0)

[node name="Sprite2D" type="Sprite2D" parent="Door(In Bedroom)"]
position = Vector2(70, 1.2874603e-05)
scale = Vector2(0.040540542, 0.04054053)
texture = ExtResource("5_wnv1a")

[node name="Door(To Toilet)" type="Area2D" parent="."]
z_index = -2
position = Vector2(260, 0)
script = ExtResource("4_hl306")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Door(To Toilet)"]
position = Vector2(70, 0)
shape = SubResource("RectangleShape2D_fh42t")

[node name="Marker2D" type="Marker2D" parent="Door(To Toilet)"]
position = Vector2(70, 0)

[node name="Sprite2D" type="Sprite2D" parent="Door(To Toilet)"]
position = Vector2(70, 1.2874603e-05)
scale = Vector2(0.040540542, 0.04054053)
texture = ExtResource("5_wnv1a")

[node name="Door(To Parents)" type="Area2D" parent="."]
z_index = -2
position = Vector2(339, 0)
script = ExtResource("4_hl306")
is_locked = true
locked_message = "Там спят родители. Лучше их не беспокоить..."

[node name="CollisionShape2D" type="CollisionShape2D" parent="Door(To Parents)"]
position = Vector2(70, 0)
shape = SubResource("RectangleShape2D_fh42t")

[node name="Marker2D" type="Marker2D" parent="Door(To Parents)"]
position = Vector2(70, 0)

[node name="Sprite2D" type="Sprite2D" parent="Door(To Parents)"]
position = Vector2(70, 1.2874603e-05)
scale = Vector2(0.040540542, 0.04054053)
texture = ExtResource("5_wnv1a")

[node name="Door(To Bedroom)" type="Area2D" parent="."]
z_index = -2
position = Vector2(313, 0)
script = ExtResource("4_hl306")
target_marker = NodePath("../Door(In Bedroom)/Marker2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Door(To Bedroom)"]
position = Vector2(70, 0)
shape = SubResource("RectangleShape2D_fh42t")

[node name="Marker2D" type="Marker2D" parent="Door(To Bedroom)"]
position = Vector2(70, 0)

[node name="Sprite2D" type="Sprite2D" parent="Door(To Bedroom)"]
position = Vector2(70, 1.2874603e-05)
scale = Vector2(0.040540542, 0.04054053)
texture = ExtResource("5_wnv1a")

[node name="Bed" type="Area2D" parent="."]
z_index = -1
position = Vector2(-34, 1)
script = ExtResource("6_srw7l")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Bed"]
position = Vector2(4, 6)
shape = SubResource("RectangleShape2D_lj6ne")

[node name="Sprite2D" type="Sprite2D" parent="Bed"]
position = Vector2(3.9999993, 5.7812495)
scale = Vector2(0.03308824, 0.033088237)
texture = ExtResource("7_olvol")

[node name="KitchenFurn" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(517.46906, 4.8366804)
scale = Vector2(0.03515002, 0.035150025)
texture = ExtResource("8_44pp7")

[node name="Deck" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(-10, 7)
scale = Vector2(0.033101045, 0.03310105)
texture = ExtResource("9_1ekfm")

[node name="TableNote" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(8.000001, 5)
scale = Vector2(0.042562082, 0.042562086)
texture = ExtResource("10_mjper")

[node name="ColorRect" type="ColorRect" parent="."]
z_index = -5
offset_left = -52.0
offset_top = 11.0
offset_right = 40.0
offset_bottom = 14.0
color = Color(0.20392157, 0.019607844, 0, 1)

[node name="Key" type="Area2D" parent="."]
position = Vector2(321, 4)
script = ExtResource("11_tudbb")

[node name="ColorRect" type="ColorRect" parent="Key"]
offset_right = 14.0
offset_bottom = 6.0
color = Color(0.5803922, 1, 1, 1)
metadata/_edit_use_anchors_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Key"]
position = Vector2(7, 3)
shape = SubResource("RectangleShape2D_px6rj")

[node name="GameDirector" type="Node" parent="."]
script = ExtResource("12_jxiql")

[node name="Frizzer" type="Area2D" parent="."]
z_index = -1
script = ExtResource("13_3jwi8")
freeze_player_name = null

[node name="CollisionShape2D" type="CollisionShape2D" parent="Frizzer"]
position = Vector2(536, 1)
shape = SubResource("RectangleShape2D_cr2eh")

[node name="Sprite2D" type="Sprite2D" parent="Frizzer"]
position = Vector2(536, 1)
scale = Vector2(0.03972869, 0.039728694)
texture = ExtResource("14_ugoxw")

[connection signal="body_entered" from="Door(In Bedroom)" to="Door(In Bedroom)" method="_on_body_entered"]
[connection signal="body_exited" from="Door(In Bedroom)" to="Door(In Bedroom)" method="_on_body_exited"]
[connection signal="body_entered" from="Door(To Toilet)" to="Door(To Toilet)" method="_on_body_entered"]
[connection signal="body_exited" from="Door(To Toilet)" to="Door(To Toilet)" method="_on_body_exited"]
[connection signal="body_entered" from="Door(To Parents)" to="Door(To Parents)" method="_on_body_entered"]
[connection signal="body_exited" from="Door(To Parents)" to="Door(To Parents)" method="_on_body_exited"]
[connection signal="body_entered" from="Door(To Bedroom)" to="Door(To Bedroom)" method="_on_body_entered"]
[connection signal="body_exited" from="Door(To Bedroom)" to="Door(To Bedroom)" method="_on_body_exited"]
[connection signal="body_entered" from="Bed" to="Bed" method="_on_body_entered"]
[connection signal="body_exited" from="Bed" to="Bed" method="_on_body_exited"]
[connection signal="body_entered" from="Key" to="Key" method="_on_body_entered"]
[connection signal="body_exited" from="Key" to="Key" method="_on_body_exited"]
[connection signal="body_entered" from="Frizzer" to="Frizzer" method="_on_body_entered"]
[connection signal="body_exited" from="Frizzer" to="Frizzer" method="_on_body_exited"]
